import{_ as et,u as st,r,w as q,o as ot,c as b,a as t,b as at,t as l,d as o,e as k,f as p,v as w,n as h,g as Y,h as F,i as it,j as nt,T as lt,k as T}from"./index-DE__lAYy.js";const ut={class:"timestamp-container"},rt={class:"content-wrapper"},dt={class:"converter-area"},ct={class:"input-section"},mt={class:"section-card"},pt={class:"card-header"},vt={class:"card-title"},_t={class:"card-body"},ht={class:"input-block"},yt={class:"input-label"},bt={class:"input-control"},Tt={class:"timestamp-input-wrapper"},gt=["placeholder"],ft={class:"timestamp-actions"},kt=["title"],wt=["title"],Ct={class:"timestamp-type-options-wrapper"},Dt={class:"timestamp-type-options"},It={class:"radio-option"},Nt={class:"radio-option"},xt={key:0,class:"error-message"},St={class:"input-block"},zt={class:"input-label"},Vt={class:"datetime-input-container"},Ut={class:"date-picker-section"},Et={class:"date-inputs"},Mt={class:"date-input-group"},Ft=["placeholder"],Lt={class:"date-separator"},Rt={class:"date-input-group"},At=["placeholder"],Ot={class:"date-separator"},Zt={class:"date-input-group"},$t=["placeholder"],jt={class:"date-separator"},qt={class:"time-picker-section"},Yt={class:"time-inputs"},Bt={class:"time-input-group"},Pt=["placeholder"],Ht={class:"time-input-group"},Gt=["placeholder"],Jt={class:"time-input-group"},Kt=["placeholder"],Qt={class:"quick-actions"},Wt=["title"],Xt=["title"],te=["title"],ee={class:"input-block timezone-block"},se={class:"input-label"},oe={value:"Asia/Shanghai"},ae={value:"Asia/Tokyo"},ie={value:"Europe/London"},ne={value:"America/New_York"},le={value:"Europe/Paris"},ue={value:"UTC"},re={class:"result-section"},de={class:"section-card"},ce={class:"card-header"},me={class:"card-title"},pe={class:"card-body"},ve={class:"result-block"},_e={class:"result-label"},he={class:"result-content"},ye={class:"result-text"},be=["title"],Te={class:"result-block"},ge={class:"result-label"},fe={class:"result-content"},ke={class:"result-text"},we=["title"],Ce={class:"result-block"},De={class:"result-label"},Ie={class:"result-content"},Ne={class:"result-text"},xe={class:"result-block"},Se={class:"result-label"},ze={class:"result-content"},Ve={class:"result-text"},Ue=["title"],Ee={class:"result-block"},Me={class:"result-label"},Fe={class:"result-content"},Le={class:"result-text"},Re=["title"],Ae={class:"result-block"},Oe={class:"result-label"},Ze={class:"result-content"},$e={class:"result-text"},je=["title"],qe={key:0,class:"toast-container"},Ye={__name:"TimestampConverter",setup(Be){const{t:a,locale:z}=st(),c=r(""),v=r("seconds"),m=r(""),y=r(""),B=r(""),g=r(""),V=r(""),C=r(""),N=r(""),x=r(""),n=r({year:"",month:"",day:"",hour:"",minute:"",second:""}),f=r(""),d=r({year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1}),_=r({show:!1,message:"",type:"success",icon:"mdi-check-circle"});let L=null;const R=(s,e)=>(...i)=>{clearTimeout(L),L=setTimeout(()=>s.apply(this,i),e)},D=(s,e="success")=>{_.value.message=s,_.value.type=e,_.value.icon=e==="success"?"mdi-check-circle":"mdi-alert-circle",_.value.show=!0,setTimeout(()=>{_.value.show=!1},3e3)},U=R(()=>{if(!c.value){f.value="";return}const s=Number(c.value);if(isNaN(s)){f.value=a("timestamp.errors.invalidTimestamp");return}f.value="",v.value=s>1e10?"milliseconds":"seconds",O()},300),A=()=>{c.value&&O()},O=()=>{if(!c.value)return;const s=Number(c.value);if(isNaN(s)){D(a("timestamp.errors.invalidTimestamp"),"error");return}try{const e=new Date(v.value==="seconds"?s*1e3:s);if(isNaN(e.getTime()))throw new Error("无效的时间戳");m.value=v.value==="seconds"?s:Math.floor(s/1e3),y.value=v.value==="seconds"?s*1e3:s,M(e),$(e)}catch{D(a("timestamp.errors.timestampConvertFailed"),"error")}},Z=(s,e)=>{const i={year:[1970,2100],month:[1,12],day:[1,31],hour:[0,23],minute:[0,59],second:[0,59]};if(!e)return d.value[s]=!1,!0;const I=parseInt(e),[K,Q]=i[s];if(isNaN(I)||I<K||I>Q)return d.value[s]=!0,!1;if(s==="day"&&n.value.year&&n.value.month){const W=parseInt(n.value.year),X=parseInt(n.value.month),tt=new Date(W,X,0).getDate();if(I>tt)return d.value[s]=!0,!1}return d.value[s]=!1,!0},u=R(()=>{if(Object.keys(n.value).every(e=>Z(e,n.value[e]))&&!(!n.value.year||!n.value.month||!n.value.day))try{const e=new Date(parseInt(n.value.year),parseInt(n.value.month)-1,parseInt(n.value.day),parseInt(n.value.hour)||0,parseInt(n.value.minute)||0,parseInt(n.value.second)||0);if(isNaN(e.getTime()))throw new Error("无效的日期");M(e),c.value=m.value.toString()}catch{D(a("timestamp.errors.dateInvalid"),"error")}},300),$=s=>{n.value={year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:s.getHours(),minute:s.getMinutes(),second:s.getSeconds()}},E=()=>{var e;const s=new Date;try{const i=z.value||"zh-CN";V.value=((e=new Intl.DateTimeFormat(i,{timeZone:g.value,timeZoneName:"long"}).formatToParts(s).find(I=>I.type==="timeZoneName"))==null?void 0:e.value)||g.value}catch{V.value=g.value}},M=s=>{m.value=Math.floor(s.getTime()/1e3),y.value=s.getTime(),B.value=s.toISOString().slice(0,16);try{const e=z.value||"zh-CN";C.value=s.toLocaleString(e,{timeZone:g.value,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{const i=z.value||"zh-CN";C.value=s.toLocaleString(i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}N.value=s.toISOString(),x.value=s.toUTCString()},j=()=>{const s=Date.now();c.value=v.value==="seconds"?Math.floor(s/1e3).toString():s.toString(),U()},P=()=>{$(new Date),u()},H=()=>{const s=new Date;n.value={year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:0,minute:0,second:0},u()},G=()=>{c.value="",m.value="",y.value="",C.value="",N.value="",x.value="",f.value=""},J=()=>{n.value={year:"",month:"",day:"",hour:"",minute:"",second:""},Object.keys(d.value).forEach(s=>{d.value[s]=!1})},S=async s=>{if(!s){D(a("timestamp.noContent"),"error");return}try{await navigator.clipboard.writeText(s.toString()),D(a("timestamp.copySuccess"))}catch{D(a("timestamp.copyFailed"),"error")}};return q(n,()=>{Object.keys(n.value).forEach(s=>{Z(s,n.value[s])})},{deep:!0}),q(z,()=>{if(E(),m.value||y.value){const s=m.value?new Date(m.value*1e3):new Date(y.value);M(s)}}),ot(()=>{g.value=Intl.DateTimeFormat().resolvedOptions().timeZone,E(),j()}),(s,e)=>(T(),b("div",ut,[t("div",rt,[t("div",dt,[t("div",ct,[t("div",mt,[t("div",pt,[t("h2",vt,l(o(a)("timestamp.title")),1)]),t("div",_t,[t("div",ht,[t("div",yt,l(o(a)("timestamp.labels.timestampInput")),1),t("div",bt,[t("div",Tt,[p(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>c.value=i),placeholder:o(a)("timestamp.placeholders.timestamp"),onInput:e[1]||(e[1]=(...i)=>o(U)&&o(U)(...i)),class:h(["text-input",{error:f.value}])},null,42,gt),[[w,c.value]]),t("div",ft,[t("button",{class:"action-button",onClick:j,title:o(a)("timestamp.actions.useCurrentTime")},e[22]||(e[22]=[t("i",{class:"mdi mdi-clock-outline"},null,-1)]),8,kt),t("button",{class:"action-button",onClick:G,title:o(a)("timestamp.actions.clearTimestamp")},e[23]||(e[23]=[t("i",{class:"mdi mdi-close"},null,-1)]),8,wt)])]),t("div",Ct,[t("div",Dt,[t("label",It,[p(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=i=>v.value=i),value:"seconds",onChange:A},null,544),[[Y,v.value]]),t("span",null,l(o(a)("timestamp.types.seconds")),1)]),t("label",Nt,[p(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=i=>v.value=i),value:"milliseconds",onChange:A},null,544),[[Y,v.value]]),t("span",null,l(o(a)("timestamp.types.milliseconds")),1)])])]),f.value?(T(),b("div",xt,l(f.value),1)):k("",!0)])]),t("div",St,[t("div",zt,l(o(a)("timestamp.labels.datetimeInput")),1),t("div",Vt,[t("div",Ut,[t("div",Et,[t("div",Mt,[p(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=i=>n.value.year=i),placeholder:o(a)("timestamp.placeholders.year"),onInput:e[5]||(e[5]=(...i)=>o(u)&&o(u)(...i)),class:h(["date-input year",{error:d.value.year}]),min:"1970",max:"2100"},null,42,Ft),[[w,n.value.year]]),t("span",Lt,l(o(a)("timestamp.inputSection.year")),1)]),t("div",Rt,[p(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=i=>n.value.month=i),placeholder:o(a)("timestamp.placeholders.month"),onInput:e[7]||(e[7]=(...i)=>o(u)&&o(u)(...i)),class:h(["date-input month",{error:d.value.month}]),min:"1",max:"12"},null,42,At),[[w,n.value.month]]),t("span",Ot,l(o(a)("timestamp.inputSection.month")),1)]),t("div",Zt,[p(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=i=>n.value.day=i),placeholder:o(a)("timestamp.placeholders.day"),onInput:e[9]||(e[9]=(...i)=>o(u)&&o(u)(...i)),class:h(["date-input day",{error:d.value.day}]),min:"1",max:"31"},null,42,$t),[[w,n.value.day]]),t("span",jt,l(o(a)("timestamp.inputSection.day")),1)])])]),t("div",qt,[t("div",Yt,[t("div",Bt,[p(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=i=>n.value.hour=i),placeholder:o(a)("timestamp.placeholders.hour"),onInput:e[11]||(e[11]=(...i)=>o(u)&&o(u)(...i)),class:h(["time-input hour",{error:d.value.hour}]),min:"0",max:"23"},null,42,Pt),[[w,n.value.hour]]),e[24]||(e[24]=t("span",{class:"time-separator"},":",-1))]),t("div",Ht,[p(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=i=>n.value.minute=i),placeholder:o(a)("timestamp.placeholders.minute"),onInput:e[13]||(e[13]=(...i)=>o(u)&&o(u)(...i)),class:h(["time-input minute",{error:d.value.minute}]),min:"0",max:"59"},null,42,Gt),[[w,n.value.minute]]),e[25]||(e[25]=t("span",{class:"time-separator"},":",-1))]),t("div",Jt,[p(t("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=i=>n.value.second=i),placeholder:o(a)("timestamp.placeholders.second"),onInput:e[15]||(e[15]=(...i)=>o(u)&&o(u)(...i)),class:h(["time-input second",{error:d.value.second}]),min:"0",max:"59"},null,42,Kt),[[w,n.value.second]])])])]),t("div",Qt,[t("button",{class:"quick-btn",onClick:P,title:o(a)("timestamp.actions.setToNow")},[e[26]||(e[26]=t("i",{class:"mdi mdi-clock-outline"},null,-1)),F(" "+l(o(a)("timestamp.actions.setToNow")),1)],8,Wt),t("button",{class:"quick-btn",onClick:H,title:o(a)("timestamp.actions.setToToday")},[e[27]||(e[27]=t("i",{class:"mdi mdi-calendar-today"},null,-1)),F(" "+l(o(a)("timestamp.actions.setToToday")),1)],8,Xt),t("button",{class:"quick-btn",onClick:J,title:o(a)("timestamp.actions.clearDateTime")},[e[28]||(e[28]=t("i",{class:"mdi mdi-close"},null,-1)),F(" "+l(o(a)("timestamp.actions.clearDateTime")),1)],8,te)])])]),t("div",ee,[t("div",se,l(o(a)("timestamp.labels.timezoneSelect")),1),p(t("select",{"onUpdate:modelValue":e[16]||(e[16]=i=>g.value=i),onChange:E,class:"timezone-select"},[t("option",oe,l(o(a)("timestamp.timezones.Asia/Shanghai")),1),t("option",ae,l(o(a)("timestamp.timezones.Asia/Tokyo")),1),t("option",ie,l(o(a)("timestamp.timezones.Europe/London")),1),t("option",ne,l(o(a)("timestamp.timezones.America/New_York")),1),t("option",le,l(o(a)("timestamp.timezones.Europe/Paris")),1),t("option",ue,l(o(a)("timestamp.timezones.UTC")),1)],544),[[it,g.value]])])])])]),t("div",re,[t("div",de,[t("div",ce,[t("h2",me,l(o(a)("timestamp.result.title")),1)]),t("div",pe,[t("div",ve,[t("div",_e,l(o(a)("timestamp.labels.secondsResult")),1),t("div",he,[t("div",ye,l(m.value||"-"),1),m.value?(T(),b("button",{key:0,class:"copy-button",onClick:e[17]||(e[17]=i=>S(m.value)),title:o(a)("timestamp.copy")},e[29]||(e[29]=[t("i",{class:"mdi mdi-content-copy"},null,-1)]),8,be)):k("",!0)])]),t("div",Te,[t("div",ge,l(o(a)("timestamp.labels.millisecondsResult")),1),t("div",fe,[t("div",ke,l(y.value||"-"),1),y.value?(T(),b("button",{key:0,class:"copy-button",onClick:e[18]||(e[18]=i=>S(y.value)),title:o(a)("timestamp.copy")},e[30]||(e[30]=[t("i",{class:"mdi mdi-content-copy"},null,-1)]),8,we)):k("",!0)])]),t("div",Ce,[t("div",De,l(o(a)("timestamp.labels.currentTimezoneResult")),1),t("div",Ie,[t("div",Ne,l(V.value),1)])]),t("div",xe,[t("div",Se,l(o(a)("timestamp.labels.formattedResult")),1),t("div",ze,[t("div",Ve,l(C.value||"-"),1),C.value?(T(),b("button",{key:0,class:"copy-button",onClick:e[19]||(e[19]=i=>S(C.value)),title:o(a)("timestamp.copy")},e[31]||(e[31]=[t("i",{class:"mdi mdi-content-copy"},null,-1)]),8,Ue)):k("",!0)])]),t("div",Ee,[t("div",Me,l(o(a)("timestamp.labels.isoResult")),1),t("div",Fe,[t("div",Le,l(N.value||"-"),1),N.value?(T(),b("button",{key:0,class:"copy-button",onClick:e[20]||(e[20]=i=>S(N.value)),title:o(a)("timestamp.copy")},e[32]||(e[32]=[t("i",{class:"mdi mdi-content-copy"},null,-1)]),8,Re)):k("",!0)])]),t("div",Ae,[t("div",Oe,l(o(a)("timestamp.labels.utcResult")),1),t("div",Ze,[t("div",$e,l(x.value||"-"),1),x.value?(T(),b("button",{key:0,class:"copy-button",onClick:e[21]||(e[21]=i=>S(x.value)),title:o(a)("timestamp.copy")},e[33]||(e[33]=[t("i",{class:"mdi mdi-content-copy"},null,-1)]),8,je)):k("",!0)])])])])])])]),at(lt,{name:"toast"},{default:nt(()=>[_.value.show?(T(),b("div",qe,[t("div",{class:h(["toast",_.value.type])},[t("i",{class:h(["mdi",_.value.icon])},null,2),t("span",null,l(_.value.message),1)],2)])):k("",!0)]),_:1})]))}},He=et(Ye,[["__scopeId","data-v-c0fc35f2"]]);export{He as default};
